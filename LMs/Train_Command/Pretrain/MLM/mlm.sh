# Model name
# Small: prajjwal1/bert-tiny  | distilbert-base-uncased | google/electra-small-discriminator
# Base: bert-base-uncased | microsoft/deberta-base | google/electra-base-discriminator | roberta-base
# Large: bert-large-uncased | microsoft/deberta-large | google/electra-large-discriminator | roberta-large
# For ogb-arxiv
# Amazon-Photo
# Small Model
CUDA_VISIBLE_DEVICES=0,1 /usr/bin/env python sweep/dist_runner.py LMs/train_MLM.py --do_train=True --learning_rate=5e-05 --model_name_or_path=distilbert-base-uncased --num_train_epochs=5 --output_dir=/mnt/v-wzhuang/TAG/Prt/MLM/Amazon/Photo/Distilbert/ --overwrite_output_dir=True --per_device_train_batch_size=32 --train_file=/mnt/v-wzhuang/TAG-Benchmark/data/amazon/Electronics/Photo/Electronics-Photo.txt --warmup_steps=1000 --line_by_line=True
CUDA_VISIBLE_DEVICES=2,3 /usr/bin/env python sweep/dist_runner.py LMs/train_MLM.py --do_train=True --learning_rate=5e-05 --model_name_or_path=google/electra-small-discriminator --num_train_epochs=5 --output_dir=/mnt/v-wzhuang/TAG/Prt/MLM/Amazon/Photo/Electra/Small/ --overwrite_output_dir=True --per_device_train_batch_size=32 --train_file=/mnt/v-wzhuang/TAG-Benchmark/data/amazon/Electronics/Photo/Electronics-Photo.txt --warmup_steps=1000 --line_by_line=True
CUDA_VISIBLE_DEVICES=4 /usr/bin/env python sweep/dist_runner.py LMs/train_MLM.py --do_train=True --learning_rate=5e-05 --model_name_or_path=prajjwal1/bert-tiny --num_train_epochs=5 --output_dir=/mnt/v-wzhuang/TAG/Prt/MLM/Amazon/Photo/TinyBert/ --overwrite_output_dir=True --per_device_train_batch_size=64 --train_file=/mnt/v-wzhuang/TAG-Benchmark/data/amazon/Electronics/Photo/Electronics-Photo.txt --warmup_steps=1000 --line_by_line=True --max_seq_length=512

#Base Model
CUDA_VISIBLE_DEVICES=0,1,2,3,4,5,6,7 /usr/bin/env python sweep/dist_runner.py LMs/train_MLM.py --do_train=True --learning_rate=5e-05 --model_name_or_path=microsoft/deberta-base --num_train_epochs=5 --output_dir=/mnt/v-wzhuang/TAG/Prt/MLM/Amazon/Photo/Deberta/Base/ --overwrite_output_dir=True --per_device_eval_batch_size=4 --per_device_train_batch_size=8 --train_file=/mnt/v-wzhuang/TAG-Benchmark/data/amazon/Electronics/Photo/Electronics-Photo.txt --warmup_steps=1000 --line_by_line=True
CUDA_VISIBLE_DEVICES=0,1,2,3,4,5,6,7 /usr/bin/env python sweep/dist_runner.py LMs/train_MLM.py --do_train=True --learning_rate=5e-05 --model_name_or_path=roberta-base --num_train_epochs=10 --output_dir=/mnt/v-wzhuang/TAG/Prt/MLM/Amazon/Photo/RoBerta/Base/ --overwrite_output_dir=True --per_device_eval_batch_size=4 --per_device_train_batch_size=8 --train_file=/mnt/v-wzhuang/TAG-Benchmark/data/amazon/Electronics/Photo/Electronics-Photo.txt --warmup_steps=1000 --line_by_line=True #5没有收敛
CUDA_VISIBLE_DEVICES=0,1,2,3,4,5,6,7 /usr/bin/env python sweep/dist_runner.py LMs/train_MLM.py --do_train=True --learning_rate=5e-05 --model_name_or_path=bert-base-uncased --num_train_epochs=5 --output_dir=/mnt/v-wzhuang/TAG/Prt/MLM/Amazon/Photo/Bert/Base/ --overwrite_output_dir=True --per_device_eval_batch_size=4 --per_device_train_batch_size=8 --train_file=/mnt/v-wzhuang/TAG-Benchmark/data/amazon/Electronics/Photo/Electronics-Photo.txt --warmup_steps=1000 --line_by_line=True
CUDA_VISIBLE_DEVICES=0,1,2,3,4,5,6,7 /usr/bin/env python sweep/dist_runner.py LMs/train_MLM.py --do_train=True --learning_rate=5e-05 --model_name_or_path=google/electra-base-discriminator --num_train_epochs=5 --output_dir=/mnt/v-wzhuang/TAG/Prt/MLM/Amazon/Photo/Electra/Base/ --overwrite_output_dir=True --per_device_eval_batch_size=4 --per_device_train_batch_size=8 --train_file=/mnt/v-wzhuang/TAG-Benchmark/data/amazon/Electronics/Photo/Electronics-Photo.txt --warmup_steps=1000 --line_by_line=True

CUDA_VISIBLE_DEVICES=0,1 /usr/bin/env python sweep/dist_runner.py LMs/Train_Command/train_DPK.py --PrtMode=Deepwalk --att_dropout=0.1 --cla_dropout=0.1 --dataset=Photo_RS --dropout=0.1 --epochs=5 --eq_batch_size=60 --per_device_bsz=30 --lr=5e-05 --model=Deberta --warmup_epochs=1 --gpus=0,1 --cache_dir=/mnt/v-wzhuang/TAG/Prt/DeepWalk/Amazon/Photo/Deberta/Base/
CUDA_VISIBLE_DEVICES=2,3 /usr/bin/env python sweep/dist_runner.py LMs/Train_Command/train_DPK.py --PrtMode=Deepwalk --att_dropout=0.1 --cla_dropout=0.1 --dataset=Photo_RS --dropout=0.1 --epochs=5 --eq_batch_size=60 --per_device_bsz=30 --lr=5e-05 --model=RoBerta --warmup_epochs=1 --gpus=2,3 --cache_dir=/mnt/v-wzhuang/TAG/Prt/DeepWalk/Amazon/Photo/RoBerta/Base/
CUDA_VISIBLE_DEVICES=4,5 /usr/bin/env python sweep/dist_runner.py LMs/Train_Command/train_DPK.py --PrtMode=Deepwalk --att_dropout=0.1 --cla_dropout=0.1 --dataset=Photo_RS --dropout=0.1 --epochs=5 --eq_batch_size=60 --per_device_bsz=30 --lr=5e-05 --model=Bert --warmup_epochs=1 --gpus=4,5 --cache_dir=/mnt/v-wzhuang/TAG/Prt/DeepWalk/Amazon/Photo/Bert/Base/
CUDA_VISIBLE_DEVICES=0,1 /usr/bin/env python sweep/dist_runner.py LMs/Train_Command/train_DPK.py --PrtMode=Deepwalk --att_dropout=0.1 --cla_dropout=0.1 --dataset=Photo_RS --dropout=0.1 --epochs=5 --eq_batch_size=60 --per_device_bsz=30 --lr=5e-05 --model=Electra-base --warmup_epochs=1 --gpus=0,1 --cache_dir=/mnt/v-wzhuang/TAG/Prt/DeepWalk/Amazon/Photo/Electra/Base/

#TCL
CUDA_VISIBLE_DEVICES=2,3 /usr/bin/env python sweep/dist_runner.py LMs/Train_Command/train_CL.py --PrtMode=TCL --att_dropout=0.1 --cla_dropout=0.1 --dataset=Photo_RS --dropout=0.1 --epochs=5 --eq_batch_size=60 --per_device_bsz=15 --grad_steps=2 --lr=5e-05 --model=Deberta --warmup_epochs=1 --gpus=2,3 --cache_dir=/mnt/v-wzhuang/TAG/Prt/TCL/Amazon/Photo/Deberta/Base/
CUDA_VISIBLE_DEVICES=6,7/usr/bin/env python sweep/dist_runner.py LMs/Train_Command/train_CL.py --PrtMode=TCL --att_dropout=0.1 --cla_dropout=0.1 --dataset=Photo_RS --dropout=0.1 --epochs=5 --eq_batch_size=60 --per_device_bsz=15 --grad_steps=2 --lr=5e-05 --model=RoBerta --warmup_epochs=1 --gpus=6,7 --cache_dir=/mnt/v-wzhuang/TAG/Prt/TCL/Amazon/Photo/RoBerta/Base/
CUDA_VISIBLE_DEVICES=6,7 /usr/bin/env python sweep/dist_runner.py LMs/Train_Command/train_CL.py --PrtMode=TCL --att_dropout=0.1 --cla_dropout=0.1 --dataset=Photo_RS --dropout=0.1 --epochs=5 --eq_batch_size=60 --per_device_bsz=15 --grad_steps=2 --lr=5e-05 --model=Bert --warmup_epochs=1 --gpus=4,5 --cache_dir=/mnt/v-wzhuang/TAG/Prt/TCL/Amazon/Photo/Bert/Base/
CUDA_VISIBLE_DEVICES=0,1 /usr/bin/env python sweep/dist_runner.py LMs/Train_Command/train_CL.py --PrtMode=TCL --att_dropout=0.1 --cla_dropout=0.1 --dataset=Photo_RS --dropout=0.1 --epochs=5 --eq_batch_size=60 --per_device_bsz=15 --grad_steps=2 --lr=5e-05 --model=Electra-base --warmup_epochs=1 --gpus=0,1 --cache_dir=/mnt/v-wzhuang/TAG/Prt/TCL/Amazon/Photo/Electra/Base/

# tcl+deepwalk
# Small
CUDA_VISIBLE_DEVICES=6 /usr/bin/env python sweep/dist_runner.py LMs/Train_Command/train_CL_DK.py --PrtMode=TCL_Deepwalk --att_dropout=0.1 --cla_dropout=0.1 --dataset=Photo_RS --dropout=0.1 --epochs=5 --eq_batch_size=100 --per_device_bsz=100 --lr=5e-05 --model=TinyBert --warmup_epochs=1 --gpus=6 --cache_dir=/mnt/v-wzhuang/TAG/Prt/TCL_Deepwalk/Amazon/Photo/TinyBert/
#Base
CUDA_VISIBLE_DEVICES=2,3 /usr/bin/env python sweep/dist_runner.py LMs/Train_Command/train_CL_DK.py --PrtMode=TCL_Deepwalk --att_dropout=0.1 --cla_dropout=0.1 --dataset=Photo_RS --dropout=0.1 --epochs=5 --eq_batch_size=60 --per_device_bsz=15 --grad_steps=2 --lr=5e-05 --model=Deberta --warmup_epochs=1 --gpus=2,3 --cache_dir=/mnt/v-wzhuang/TAG/Prt/TCL_Deepwalk/Amazon/Photo/Deberta/Base/
CUDA_VISIBLE_DEVICES=4,5 /usr/bin/env python sweep/dist_runner.py LMs/Train_Command/train_CL_DK.py --PrtMode=TCL_Deepwalk --att_dropout=0.1 --cla_dropout=0.1 --dataset=Photo_RS --dropout=0.1 --epochs=5 --eq_batch_size=60 --per_device_bsz=15 --grad_steps=2 --lr=5e-05 --model=RoBerta --warmup_epochs=1 --gpus=4,5 --cache_dir=/mnt/v-wzhuang/TAG/Prt/TCL_Deepwalk/Amazon/Photo/RoBerta/Base/
CUDA_VISIBLE_DEVICES=6,7 /usr/bin/env python sweep/dist_runner.py LMs/Train_Command/train_CL_DK.py --PrtMode=TCL_Deepwalk --att_dropout=0.1 --cla_dropout=0.1 --dataset=Photo_RS --dropout=0.1 --epochs=5 --eq_batch_size=60 --per_device_bsz=15 --grad_steps=2 --lr=5e-05 --model=Bert --warmup_epochs=1 --gpus=4,5 --cache_dir=/mnt/v-wzhuang/TAG/Prt/TCL_Deepwalk/Amazon/Photo/Bert/Base/
CUDA_VISIBLE_DEVICES=0,1 /usr/bin/env python sweep/dist_runner.py LMs/Train_Command/train_CL_DK.py --PrtMode=TCL_Deepwalk --att_dropout=0.1 --cla_dropout=0.1 --dataset=Photo_RS --dropout=0.1 --epochs=5 --eq_batch_size=60 --per_device_bsz=15 --grad_steps=2 --lr=5e-05 --model=Electra-base --warmup_epochs=1 --gpus=0,1 --cache_dir=/mnt/v-wzhuang/TAG/Prt/TCL_Deepwalk/Amazon/Photo/Electra/Base/